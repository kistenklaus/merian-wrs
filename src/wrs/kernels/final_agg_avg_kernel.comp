#version 460
#extension GL_EXT_scalar_block_layout    : enable

layout(local_size_x = 1, local_size_y = 1, local_size_z = 1) in;

layout(set = 0, binding = 0, scalar) buffer restrict buf_src {
    float src[];
};

layout(push_constant) uniform PushConstant {
    uint size;
} pc;

void main() {
  float agg = src[0];
  float avg = agg / pc.size;
  src[0] = avg;
  src[1] = agg;
}
